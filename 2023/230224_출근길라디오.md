### [Range Sum] Release 6022 ms

```cpp
#include <vector>

using namespace std;

#define MAX_ROADS	100000
#define MAX_TYPES	10000

struct Road {
	int type;
	int time;
};

struct Type {
	vector<int> roadList;
};

//vector<Road> roads;
//vector<Type> types;

Road roads[MAX_ROADS];
Type types[MAX_TYPES];

///////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////
void init(int N, int M, int mType[], int mTime[])
{
	//roads.clear(); roads.resize(N-1);		// 100,000
	//types.clear(); types.resize(M);		// 1,000

	for (int i = 0; i < N; i++)
		roads[i] = Road({});

	for (int i = 0; i < M; i++)
		types[i] = Type({});

	for (int i = 0; i < N - 1; i++) {
		roads[i].type = mType[i];
		roads[i].time = mTime[i];
		types[mType[i]].roadList.push_back(i);
	}
}

void destroy() {}

// 10,000
void update(int mID, int mNewTime)
{
	roads[mID].time = mNewTime;
}

// 200
int updateByType(int mTypeID, int mRatio256)
{
	int ret = 0;
	for (int rID : types[mTypeID].roadList) {
		roads[rID].time = roads[rID].time * mRatio256 / 256;
		ret += roads[rID].time;
	}
	return ret;
}

// 100,000
int calculate(int mA, int mB)
{
	if (mA > mB)
		swap(mA, mB);

	int ret = 0;
	for (int pt = mA; pt <= mB-1; pt++) {
		ret += roads[pt].time;
	}
	return ret;
}
```
